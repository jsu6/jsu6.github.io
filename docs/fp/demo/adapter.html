<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Minimal WebGPU Dump</title>
</head>
<body>
<pre id="out">Runningâ€¦</pre>

<script type="module">
async function main() {
  const out = document.getElementById("out");
  out.textContent = "";

  function print(...msg) {
    out.textContent += msg.join(" ") + "\n";
    console.log(...msg);
  }

  const adapter = await navigator.gpu.requestAdapter();
  if (!adapter) {
    print("Couldn't request WebGPU adapter.");
    return;
  }

  // ============================
  // INFO
  // ============================
  print("=== adapter.info ===");
  let info = adapter.info;
  if (info) {
    for (const [k, v] of Object.entries(info)) {
      print(k + ":", v);
    }
  } else {
    print("adapter.info is not available");
  }

  // ============================
  // FEATURES
  // ============================
  print("\n=== adapter.features ===");
  for (const feature of adapter.features) {
    print(feature);
  }

  // ============================
  // LIMITS
  // ============================
  print("\n=== adapter.limits ===");
  for (const key of Object.keys(adapter.limits)) {
    print(key + ":", adapter.limits[key]);
  }
}

main();
</script>
</body>
</html>
